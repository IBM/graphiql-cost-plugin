{"version":3,"file":"index.esm.js","sources":["../src/components/NumberOrInf.tsx","../src/components/DetailsPopover.tsx","../src/components/CostOnly.tsx","../src/components/TimeFrameDetails.tsx","../src/components/Triangle.tsx","../src/components/CostAndRates.tsx","../src/components/App.tsx"],"sourcesContent":["// Copyright IBM Corp. 2020. All Rights Reserved.\n// Node module: graphiql-cost-plugin\n// This file is licensed under the MIT License.\n// License text available at https://opensource.org/licenses/MIT\n\nimport React from 'react'\n\n/**\n * Renders the given number.\n *  - Rounds numbers with decimals to at most 2 decimals\n *  - Returns the infinity sign for numbers >= 2147483647\n */\nexport function NumberOrInf(props: {num: number}) {\n  if (props.num >= 2147483647) {\n    return <span>&#8734; </span>\n  }\n  if (props.num % 1 != 0) {\n    return <span>{props.num.toFixed(2)} </span>\n  }\n  return <span>{props.num.toString()} </span>\n}\n","// Copyright IBM Corp. 2020. All Rights Reserved.\n// Node module: graphiql-cost-plugin\n// This file is licensed under the MIT License.\n// License text available at https://opensource.org/licenses/MIT\n\nimport React from 'react'\n\ntype Props = {\n  title: string\n  details: JSX.Element[]\n}\n\nexport default function DetailsPopover(props: Props) {\n  const [hover, setHover] = React.useState(false)\n\n  if (!Array.isArray(props.details) || props.details.length === 0) {\n    return null\n  }\n\n  const details = (\n    <div>\n      <h3\n        style={{\n          marginBlockStart: 0,\n          marginBlockEnd: 0\n        }}\n      >\n        {props.title}\n      </h3>\n      <ul style={{\n        marginBlockStart: 5,\n        marginBlockEnd: 5\n      }}>\n        {props.details.map((ex, i) => {\n          return <li key={i}>{ex}</li>\n        })}\n      </ul>\n    </div>\n  )\n\n  return (\n    <span\n      style={{\n        marginLeft: '0.2rem',\n        color: 'gray',\n        borderBottom: '1px dotted gray',\n        cursor: 'pointer',\n        position: 'relative'\n      }}\n      onMouseEnter={() => setHover(true)}\n      onMouseLeave={() => setHover(false)}\n    >\n      &#8505;\n      <div style={{\n        display: hover ? 'block' : 'none',\n        zIndex: 1000,\n        position: 'absolute',\n        borderRadius: '5px',\n        backgroundColor: '#111',\n        color: 'white',\n        bottom: 15,\n        width: 170,\n        padding: 5,\n        right: -50\n      }}>\n        {details}\n      </div>\n    </span>\n  )\n}\n","// Copyright IBM Corp. 2020. All Rights Reserved.\n// Node module: graphiql-cost-plugin\n// This file is licensed under the MIT License.\n// License text available at https://opensource.org/licenses/MIT\n\nimport React from 'react'\nimport { Characteristics } from '../types'\nimport { NumberOrInf } from './NumberOrInf'\nimport DetailsPopover from './DetailsPopover'\n\ntype Props = {\n  characteristics: Characteristics\n}\n\nexport default function CostOnly({characteristics}: Props) {\n  const typeCountDetails = characteristics.typeCounts && Object.keys(characteristics.typeCounts).map((key) => {\n    return <span>{key}: <NumberOrInf num={characteristics.typeCounts[key]}/></span>\n  }) || null\n  const fieldCountDetails = characteristics.fieldCounts && Object.keys(characteristics.fieldCounts).map((key) => {\n    return <span>{key}: <NumberOrInf num={characteristics.fieldCounts[key]}/></span>\n  }) || null\n  return (\n    <div style={{padding: '0.5em 0 0.5em 0.5em'}}>\n      <h3\n        style={{\n          marginBlockStart: '0.2em',\n          marginBlockEnd: 0\n        }}\n      >\n        Query cost\n      </h3>\n      <div style={{paddingLeft: '0.5em'}}>\n          Type cost: <NumberOrInf num={characteristics.typeCost}/>\n          <DetailsPopover title=\"Type counts\" details={typeCountDetails} />{' '}\n      </div>\n      <div style={{paddingLeft: '0.5em'}}>\n          Field cost: <NumberOrInf num={characteristics.fieldCost}/>\n          <DetailsPopover title=\"Field counts\" details={fieldCountDetails} />{' '}\n      </div>\n    </div>\n  )\n}\n","// Copyright IBM Corp. 2020. All Rights Reserved.\n// Node module: graphiql-cost-plugin\n// This file is licensed under the MIT License.\n// License text available at https://opensource.org/licenses/MIT\n\nimport React from 'react'\nimport { Characteristics, TimeFrame } from '../types'\nimport { NumberOrInf } from './NumberOrInf'\nimport DetailsPopover from './DetailsPopover'\n\ntype Props = {\n  timeFrame: TimeFrame\n  limits: {name: string, rate: number}[]\n  characteristics: Characteristics\n}\n\nfunction getAllowedTimes(\n  rate: number,\n  cost: number\n) {\n  if (rate === 0 || cost === 0) {\n    return Number.MAX_SAFE_INTEGER\n  }\n  return Math.floor(rate / cost)\n}\n\nexport function TimeFrameDetails({timeFrame, limits, characteristics}: Props) {\n  const typeLimit = limits.find(\n    (val) => val.name === 'typeCost'\n  )\n  const fieldLimit = limits.find(\n    (val) => val.name === 'fieldCost'\n  )\n\n  const typeCountDetails = characteristics.typeCounts && Object.keys(characteristics.typeCounts).map((key) => {\n    return <span>{key}: <NumberOrInf num={characteristics.typeCounts[key]}/></span>\n  }) || null\n  const fieldCountDetails = characteristics.fieldCounts && Object.keys(characteristics.fieldCounts).map((key) => {\n    return <span>{key}: <NumberOrInf num={characteristics.fieldCounts[key]}/></span>\n  }) || null\n  return (\n    <div>\n      <h4 style={{marginBlockStart: '0.3em', marginBlockEnd: 0}}>\n        Limits for {timeFrame.interval} {timeFrame.unit}\n        :\n      </h4>\n      <div>\n        {typeLimit ? (\n          <span style={{paddingLeft: '0.5em'}}>\n            <NumberOrInf num={getAllowedTimes(typeLimit.rate, characteristics.typeCost)}/>\n            times for type cost of <NumberOrInf num={characteristics.typeCost}/>\n            <DetailsPopover title=\"Type counts\" details={typeCountDetails} />\n          </span>\n        ) : (\n          <span style={{color: 'gray', paddingLeft: '0.5em'}}>\n            No limit defined for type cost\n          </span>\n        )}\n      </div>\n      <div>\n        {fieldLimit ? (\n          <span style={{paddingLeft: '0.5em'}}>\n            <NumberOrInf num={getAllowedTimes(fieldLimit.rate, characteristics.fieldCost)}/>\n            times for field cost of <NumberOrInf num={characteristics.fieldCost}/>\n            <DetailsPopover title=\"Field counts\" details={fieldCountDetails} />\n          </span>\n        ) : (\n          <span style={{color: 'gray', paddingLeft: '0.5em'}}>\n            No limit defined for field cost\n          </span>\n        )}\n      </div>\n    </div>\n  )\n}\n","// Copyright IBM Corp. 2020. All Rights Reserved.\n// Node module: graphiql-cost-plugin\n// This file is licensed under the MIT License.\n// License text available at https://opensource.org/licenses/MIT\n\nimport React from 'react'\n\nexport function Triangle () {\n  return <div style={{\n    width: 0, \n    height: 0, \n    borderTop: '8px solid transparent',\n    borderBottom: '8px solid transparent',\n    borderRight: '8px solid #444',\n    float: 'right'\n  }}></div>\n}\n","// Copyright IBM Corp. 2020. All Rights Reserved.\n// Node module: graphiql-cost-plugin\n// This file is licensed under the MIT License.\n// License text available at https://opensource.org/licenses/MIT\n\nimport React, { useState } from 'react'\nimport { Characteristics, RateLimits, TimeFrame, RateLimit } from '../types'\nimport { NumberOrInf } from './NumberOrInf'\nimport { TimeFrameDetails } from './TimeFrameDetails'\nimport { Triangle } from './Triangle'\n\ntype Props = {\n  rateLimits: RateLimits\n  characteristics: Characteristics\n}\n\ntype TimeFrames = {\n  timeFrame: TimeFrame\n  limits: {name: string, rate: number}[]\n}[]\n\ntype InFocus = {\n  timeFrame: TimeFrame\n  limits: {name: string, rate: number}[]\n}\n\nfunction groupByTimeFrames (\n  limits: RateLimit[],\n  timeFrames: TimeFrames,\n  limitName: string\n) : void {\n  if (!Array.isArray(limits) || limits.length === 0) return\n\n  limits.forEach(limit => {\n    const frame = timeFrames\n      .find(e => e.timeFrame.interval === limit.interval && e.timeFrame.unit === limit.unit)\n    if (frame) {\n      frame.limits.push({name: limitName, rate: limit.rate})\n    } else {\n      timeFrames.push({\n        timeFrame: {interval: limit.interval, unit: limit.unit},\n        limits: [{name: limitName, rate: limit.rate}]\n      })\n    }\n  })\n}\n\nfunction getMaxAllowed(\n  limits: {name: string, rate: number}[],\n  characteristics: Characteristics\n) {\n  let maxAllowed = Number.MAX_SAFE_INTEGER\n  limits.forEach(({name, rate}) => {\n    const cost = characteristics[name]\n    const allowed = typeof cost === 'number' && cost !== 0 && rate !== 0\n      ? Math.floor(rate / cost)\n      : Number.MAX_SAFE_INTEGER\n    if (allowed < maxAllowed) maxAllowed = allowed\n  })\n  return maxAllowed\n}\n\nexport function CostAndRates ({characteristics, rateLimits}: Props) {\n  // const [allowed, setAllowed] = React.useState<AllowedEntry>(null)\n  const [inFocus, setInFocus] = useState<InFocus>(null)\n\n  const fieldCostLimits = rateLimits.assemblyRateLimits?.['graphql-field-cost']\n  const typeCostLimits = rateLimits.assemblyRateLimits?.['graphql-type-cost']\n  const inputTypeCostLimits = rateLimits.assemblyRateLimits?.['graphql-type-cost']  \n\n  // Re-group all limits based on unique time frames\n  const timeFrames : TimeFrames = []\n  groupByTimeFrames(fieldCostLimits, timeFrames, 'fieldCost')\n  groupByTimeFrames(typeCostLimits, timeFrames, 'typeCost')\n  groupByTimeFrames(inputTypeCostLimits, timeFrames, 'inputTypeCost')\n\n  function handleClick (newInFocus: InFocus) {\n    if (\n      inFocus &&\n      inFocus.timeFrame.interval === newInFocus.timeFrame.interval &&\n      inFocus.timeFrame.unit === newInFocus.timeFrame.unit\n    ) {\n      setInFocus(null)\n    } else {\n      setInFocus(newInFocus)\n    }\n  }\n\n  let details = inFocus\n    ? <TimeFrameDetails\n        timeFrame={inFocus.timeFrame}\n        characteristics={characteristics}\n        limits={inFocus.limits}\n      />\n    : null\n\n  const main = <div>\n    {/* TODO: add Plan name? */}\n    <h3 style={{\n      marginBlockStart: '0.2em',\n      marginBlockEnd: 0,\n    }}>Query limits:</h3>\n    {timeFrames.map((entry, key) => {\n      const maxAllowed = getMaxAllowed(entry.limits, characteristics)\n      const linkActive = inFocus\n        ? (\n            entry.timeFrame.interval === inFocus.timeFrame.interval &&\n            entry.timeFrame.unit === inFocus.timeFrame.unit\n          )\n        : false\n      const link = <span\n        onClick={() => handleClick(entry)}\n        style={{\n          fontStyle: 'italic',\n          textDecorationStyle: 'dotted',\n          cursor: 'pointer',\n          paddingLeft: 10\n        }}\n        >\n          {linkActive ? 'hide...' : 'more...'}\n        </span>\n      return <div key={key} style={{paddingLeft: '0.5em'}}>\n        <NumberOrInf num={maxAllowed}/>\n        times per {entry.timeFrame.interval} {entry.timeFrame.unit}\n        {link}\n        {linkActive ? <Triangle/> : null}\n      </div>\n    })}\n  </div>\n\n  let overall = details\n    ? <>\n        <div style={{width: 250, padding: '0.5em 0 0.5em 0.5em'}}>\n          {main}\n        </div>\n        <div style={{flex: 1, backgroundColor: '#444', color: 'white', padding: '0.5em 0 0.5em 0.5em'}}>\n          {details}\n        </div>\n      </>\n    : <>\n        <div style={{flex: 1, padding: '0.5em 0 0.5em 0.5em'}}>\n          {main}\n        </div>\n      </>\n\n  return <div style={{\n    display: 'flex',\n    flexDirection: 'row',\n    width: '100%',\n    height: '100%'\n  }}>\n   {overall}\n  </div>\n}\n","// Copyright IBM Corp. 2020. All Rights Reserved.\n// Node module: graphiql-cost-plugin\n// This file is licensed under the MIT License.\n// License text available at https://opensource.org/licenses/MIT\n\nimport React from 'react'\nimport CostOnly from './CostOnly'\nimport { CostAndRates } from './CostAndRates'\nimport { CostEndpointResponse, DataAvailability } from '../types'\n\ntype Props = {\n  dataAvailability: DataAvailability\n  costData: CostEndpointResponse\n}\n\nexport function CostPlugin({dataAvailability, costData}: Props) {\n  let main\n\n  switch (dataAvailability) {\n    case DataAvailability.None:\n      main = (\n        <h3 style={{color: '#cdcdcd', textAlign: 'center'}}>\n          No data yet\n        </h3>\n      )\n      break\n    case DataAvailability.Loading:\n      main = <h3 style={{color: '#cdcdcd', textAlign: 'center'}}>Loading...</h3>\n      break\n    case DataAvailability.Error:\n      let errMsg: any = 'Error loading cost data'\n      if(typeof costData === 'object' && costData && costData.errors) {\n        const errs = Array.isArray(costData.errors) ? costData.errors : [costData.errors]\n        errMsg = (\n            <ul>\n              {\n                errs.map((e: any) => {\n                  return (\n                    <li>\n                      {e && e.message || ''}\n                    </li>\n                  )\n                })\n              }\n            </ul>\n        )\n      }\n      main = (\n        <h3 style={{color: '#cdcdcd', textAlign: 'center'}}>\n          {errMsg}\n        </h3>\n      )\n      break\n    case DataAvailability.Available:\n      if (\n        typeof costData === 'object' &&\n        typeof costData.request === 'object' &&\n        typeof costData.rateLimits === 'object'\n      ) {\n        main = <CostAndRates characteristics={costData.request} rateLimits={costData.rateLimits}/>\n      } else if (typeof costData.request === 'object') {\n        main = <CostOnly characteristics={costData.request} />\n      } else {\n        main = (\n          <h3 style={{color: '#cdcdcd', textAlign: 'center'}}>\n            Error rendering cost data\n          </h3>\n        )\n      }\n      break\n  }\n\n  return <div className=\"qcs_wrapper\">{main}</div>\n}\n"],"names":["NumberOrInf","props","num","React","toFixed","toString","DetailsPopover","useState","hover","setHover","Array","isArray","details","length","style","marginBlockStart","marginBlockEnd","title","map","ex","i","key","marginLeft","color","borderBottom","cursor","position","onMouseEnter","onMouseLeave","display","zIndex","borderRadius","backgroundColor","bottom","width","padding","right","CostOnly","characteristics","typeCountDetails","typeCounts","Object","keys","fieldCountDetails","fieldCounts","paddingLeft","typeCost","fieldCost","getAllowedTimes","rate","cost","Number","MAX_SAFE_INTEGER","Math","floor","TimeFrameDetails","timeFrame","limits","typeLimit","find","val","name","fieldLimit","interval","unit","Triangle","height","borderTop","borderRight","float","groupByTimeFrames","timeFrames","limitName","forEach","limit","frame","e","push","CostAndRates","rateLimits","inFocus","setInFocus","fieldCostLimits","assemblyRateLimits","_rateLimits$assemblyR","typeCostLimits","_rateLimits$assemblyR2","inputTypeCostLimits","_rateLimits$assemblyR3","main","entry","maxAllowed","allowed","getMaxAllowed","linkActive","link","onClick","newInFocus","fontStyle","textDecorationStyle","overall","flex","flexDirection","CostPlugin","costData","dataAvailability","textAlign","errMsg","errors","errs","message","request","className"],"mappings":"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"}